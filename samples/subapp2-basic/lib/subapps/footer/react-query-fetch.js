"use strict";

exports.__esModule = true;
exports.prefetchQuery = exports.demo3QueryFn = void 0;

var _reactQuery = require("@xarc/react-query");

const maxDelay = 50;

const demo3QueryFn = async ({
  queryKey
}) => {
  const delay = Math.floor(Math.random() * maxDelay);
  return new Promise(resolve => {
    setTimeout(resolve, delay);
  }).then(() => {
    return {
      msg: "react-query",
      queryKey,
      delay
    };
  });
};

exports.demo3QueryFn = demo3QueryFn;

const prefetchQuery = async ({
  queryClient,
  ssrData
}) => {
  await queryClient.prefetchQuery("demo3", demo3QueryFn);
  return {
    queryClient,
    dehydratedState: (0, _reactQuery.dehydrate)(queryClient)
  };
};

exports.prefetchQuery = prefetchQuery;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYXhEZWxheSIsImRlbW8zUXVlcnlGbiIsInF1ZXJ5S2V5IiwiZGVsYXkiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0aGVuIiwibXNnIiwicHJlZmV0Y2hRdWVyeSIsInF1ZXJ5Q2xpZW50Iiwic3NyRGF0YSIsImRlaHlkcmF0ZWRTdGF0ZSIsImRlaHlkcmF0ZSJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zdWJhcHBzL2Zvb3Rlci9yZWFjdC1xdWVyeS1mZXRjaC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWh5ZHJhdGUgfSBmcm9tIFwiQHhhcmMvcmVhY3QtcXVlcnlcIjtcblxuY29uc3QgbWF4RGVsYXkgPSA1MDtcblxuZXhwb3J0IGNvbnN0IGRlbW8zUXVlcnlGbiA9IGFzeW5jICh7IHF1ZXJ5S2V5IH0pID0+IHtcbiAgY29uc3QgZGVsYXkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXhEZWxheSk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSk7XG4gIH0pLnRoZW4oKCkgPT4ge1xuICAgIHJldHVybiB7IG1zZzogXCJyZWFjdC1xdWVyeVwiLCBxdWVyeUtleSwgZGVsYXkgfTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlZmV0Y2hRdWVyeSA9IGFzeW5jICh7IHF1ZXJ5Q2xpZW50LCBzc3JEYXRhIH0pID0+IHtcbiAgYXdhaXQgcXVlcnlDbGllbnQucHJlZmV0Y2hRdWVyeShcImRlbW8zXCIsIGRlbW8zUXVlcnlGbik7XG5cbiAgcmV0dXJuIHtcbiAgICBxdWVyeUNsaWVudCxcbiAgICBkZWh5ZHJhdGVkU3RhdGU6IGRlaHlkcmF0ZShxdWVyeUNsaWVudCksXG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOztBQUVBLE1BQU1BLFFBQVEsR0FBRyxFQUFqQjs7QUFFTyxNQUFNQyxZQUFZLEdBQUcsT0FBTztFQUFFQztBQUFGLENBQVAsS0FBd0I7RUFDbEQsTUFBTUMsS0FBSyxHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0QsSUFBSSxDQUFDRSxNQUFMLEtBQWdCTixRQUEzQixDQUFkO0VBRUEsT0FBTyxJQUFJTyxPQUFKLENBQWFDLE9BQUQsSUFBYTtJQUM5QkMsVUFBVSxDQUFDRCxPQUFELEVBQVVMLEtBQVYsQ0FBVjtFQUNELENBRk0sRUFFSk8sSUFGSSxDQUVDLE1BQU07SUFDWixPQUFPO01BQUVDLEdBQUcsRUFBRSxhQUFQO01BQXNCVCxRQUF0QjtNQUFnQ0M7SUFBaEMsQ0FBUDtFQUNELENBSk0sQ0FBUDtBQUtELENBUk07Ozs7QUFVQSxNQUFNUyxhQUFhLEdBQUcsT0FBTztFQUFFQyxXQUFGO0VBQWVDO0FBQWYsQ0FBUCxLQUFvQztFQUMvRCxNQUFNRCxXQUFXLENBQUNELGFBQVosQ0FBMEIsT0FBMUIsRUFBbUNYLFlBQW5DLENBQU47RUFFQSxPQUFPO0lBQ0xZLFdBREs7SUFFTEUsZUFBZSxFQUFFLElBQUFDLHFCQUFBLEVBQVVILFdBQVY7RUFGWixDQUFQO0FBSUQsQ0FQTSJ9